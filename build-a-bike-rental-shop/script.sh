#!/bin/bash
PSQL="psql -X --username=freecodecamp --dbname=bikes --no-align --tuples-only -c"
echo $($PSQL "ALTER TABLE bikes ADD COLUMN bike_id SERIAL PRIMARY KEY")
echo $($PSQL "ALTER TABLE bikes ADD COLUMN type VARCHAR(50) NOT NULL")
echo $($PSQL "ALTER TABLE bikes ADD COLUMN size INT NOT NULL")
echo $($PSQL "ALTER TABLE bikes ADD COLUMN available BOOLEAN NOT NULL DEFAULT TRUE")
echo $($PSQL "CREATE TABLE customers()")
echo $($PSQL "ALTER TABLE customers ADD COLUMN customer_id SERIAL PRIMARY KEY")
echo $($PSQL "ALTER TABLE customers ADD COLUMN phone VARCHAR(15) NOT NULL UNIQUE")
echo $($PSQL "ALTER TABLE customers ADD COLUMN name VARCHAR(40) NOT NULL")
echo $($PSQL "CREATE TABLE rentals()")
echo $($PSQL "ALTER TABLE rentals ADD COLUMN rental_id SERIAL PRIMARY KEY")
echo $($PSQL "ALTER TABLE rentals ADD COLUMN customer_id INT NOT NULL")
echo $($PSQL "ALTER TABLE rentals ADD COLUMN bike_id INT NOT NULL")
echo $($PSQL "ALTER TABLE rentals ADD FOREIGN KEY(customer_id) REFERENCES customers(customer_id)")
echo $($PSQL "ALTER TABLE rentals ADD FOREIGN KEY(bike_id) REFERENCES bikes(bike_id)")
echo $($PSQL "ALTER TABLE rentals ADD COLUMN date_rented DATE NOT NULL DEFAULT NOW()")
echo $($PSQL "ALTER TABLE rentals ADD COLUMN date_returned DATE")
echo $($PSQL "INSERT INTO bikes(type, size) VALUES ('Mountain', 27)")
echo $($PSQL "INSERT INTO bikes(type, size) VALUES ('Mountain', 28)")
echo $($PSQL "INSERT INTO bikes(type, size) VALUES ('Mountain', 29)")
echo $($PSQL "INSERT INTO bikes(type, size) VALUES ('Road', 27)")
echo $($PSQL "INSERT INTO bikes(type, size) VALUES ('Road', 28), ('Road', 29)")
echo $($PSQL "INSERT INTO bikes(type, size) VALUES ('BMX', 19), ('BMX', 20), ('BMX', 21)")
